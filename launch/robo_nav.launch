<?xml version="1.0"?>
<launch>
	<node pkg="tf" type="static_transform_publisher" name="link1_broadcaster" args="0 0 0 0 0 0 base_link laser 10" />

	<arg name="map_file" default="$(find mobile)/maps/my_home.yaml" />
	
	<!-- hardware -->
	<node pkg="mobile" type="hardware_node" name="robo_hardware" output="screen">
	</node>

	<!-- map -->
	<node pkg="map_server" type="map_server" name="map_server" args="$(arg map_file)">
		<param name="frame_id" value="map" />
	</node>
  
  
  	<node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
        	<rosparam file="$(find mobile)/param/local_costmap_params.yaml" command="load"/>
        	<rosparam file="$(find mobile)/param/global_costmap_params.yaml" command="load"/> 
        	<!-- move_base params -->
        	<rosparam file="$(find mobile)/param/move_base_params.yaml" command="load"/>
 	</node> 

	<!-- rplidar -->
	<include file="$(find mobile)/launch/robo_rplidar.launch" />
	<!-- amcl -->
	<include file="$(find mobile)/launch/robo_amcl.launch" />

    <!-- rviz -->
    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find mobile)/rviz_cfg/amcl.rviz" />
</launch>
